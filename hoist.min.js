//  Hoist.js 0.2.0
//  https://github.com/flovan/hoist
//  (c) 2015-whateverthecurrentyearis Florian Vanthuyne
//  Hoist may be freely distributed under the MIT license.

!function(a,b){a.hasOwnProperty=a.hasOwnProperty||Object.prototype.hasOwnProperty,Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});var c=function(c,d){if("string"!=typeof c)return console.error("Hoist constructor error: container selector needs to be a String."),void 0;var h=null,k="#container",l=null,m=null,n=null,o=!1,p={itemSelector:".block",columns:2,minWidth:0,gutterWidth:0,repeatResize:60},q=function(){l=b.querySelectorAll(k)[0],m=b.querySelectorAll(p.itemSelector),m.length||console.warn("Hoist error: selector `"+p.itemSelector+"` did not match any elements."),o=p.columns.constructor===Array,r()},r=function(){if(null===h){h=g(t.bind(this),50);try{a.addEventListener("resize",h)}catch(b){a.attachEvent("onresize",h)}}t.apply(this)},s=function(){if(null!==h){try{a.removeEventListener("resize",h)}catch(b){a.detachEvent("onresize",h)}h=null}},t=function(){var b=l.clientWidth,c=m.length,d=0,e=null,f=o?u():p.columns,g=Math.floor((b-Math.max(0,f-1)*p.gutterWidth)/f),h=0,q=0;if(l.style.position="relative",x()<p.minWidth)return w(),void 0;for(n=[];f>0;)n.push({w:0,h:0}),f--;for(;c>d;){if(q=0,h>0){for(var r=[],t=0,y=n.length;y>t;t++)r.push(n[t].w);r=r.slice(0,h);for(var t=0,y=r.length;y>t;t++)q+=r[t]}e=m[d],e.style.position="absolute",e.style.left=h*p.gutterWidth+q+"px",e.style.top=n[h].h+"px",e.style.width=g+"px",n[h].h+=i(e),n[h].w=j(e),h=v(),d++}n.sort(function(a,b){return a.h>b.h?1:-1}),l.style.height=n.pop().h+"px"},u=function(){for(var e,a=null,b=x(),c=0,d=p.columns.length;d>c;c++)e=p.columns[c],e.breakPoint<b&&(null===a||e.breakPoint>a.breakPoint)&&(a=e);return a?a.columns:0},v=function(){for(var a,b=0,c=n.length,d=null;c>b;b++)null===d?(d=n[b],a=b):d.h>n[b].h&&(a=b,d=n[b]);return a},w=function(){for(var c,a=0,b=m.length;b>a;a++)c=m[a],m[a].removeAttribute("style");l.removeAttribute("style")},x=function(){return Math.max(b.body.offsetWidth||0,b.documentElement.offsetWidth||0,a.innerWidth||0)};this.pause=function(){s()},this.stop=function(){w(),s()},this.start=function(){w(),r()},this.reset=function(){w(),items=b.querySelectorAll(settings.itemSelector),t.apply(this)},this.setGutter=function(a){return void 0===a||a!==parseInt(a,10)?(console.error("`setGutter()` requires an Integer value."),void 0):(settings.gutterWidth=a,void 0)},k=c||k,d=d||{},p=e({},p,d),q()},d=Date.now||function(){return(new Date).getTime()},e=function(a){if(!f(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a},f=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},g=function(a,b,c){var e,f,g,h=null,i=0;c||(c={});var j=function(){i=c.leading===!1?0:d(),h=null,g=a.apply(e,f),h||(e=f=null)};return function(){var k=d();i||c.leading!==!1||(i=k);var l=b-(k-i);return e=this,f=arguments,0>=l||l>b?(h&&(clearTimeout(h),h=null),i=k,g=a.apply(e,f),h||(e=f=null)):h||c.trailing===!1||(h=setTimeout(j,l)),g}},h=function(c,d){var e;return c.currentStyle?e=c.currentStyle[d]:a.getComputedStyle&&(e=b.defaultView.getComputedStyle(c,null).getPropertyValue(d)),e||"auto"},i=function(a){var b=h(a,"margin-top").split("px").shift(),c=h(a,"margin-bottom").split("px").shift();return b=parseInt("auto"===b?0:b),c=parseInt("auto"===c?0:c),Math.round(a.clientHeight+b+c)},j=function(a){var b=h(a,"margin-left").split("px").shift(),c=h(a,"margin-rigth").split("px").shift();return b=parseInt("auto"===b?0:b),c=parseInt("auto"===c?0:c),Math.round(a.clientWidth+b+c)};a.Hoist=a.Hoist||c}(window,document);